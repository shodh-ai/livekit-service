2025-06-16 14:16:18,372 - livekit - INFO - livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.22
2025-06-16 14:16:18,373 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.22
2025-06-16 14:16:18,455 - __main__ - WARNING - Tavus plugin not found (ImportError: cannot import name 'tavus' from 'livekit.plugins' (unknown location)). Tavus features will be disabled.
2025-06-16 14:16:18,470 - __main__ - INFO - Loading environment from: /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/.env
2025-06-16 14:16:18,471 - __main__ - INFO - LIVEKIT_URL: wss://shodhai-pojmjchi.livekit.cloud
2025-06-16 14:16:18,471 - __main__ - INFO - DEEPGRAM_API_KEY: 77c3df31...0a31 (length: 40)
2025-06-16 14:16:18,471 - __main__ - INFO - MY_CUSTOM_AGENT_URL: http://localhost:8080/process_interaction_streaming
2025-06-16 14:16:18,471 - __main__ - WARNING - Tavus avatar not fully configured. Avatar functionality will be disabled.
2025-06-16 14:16:18,494 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:16:18,495 - livekit.agents - DEV - Watching /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox
2025-06-16 14:16:18,917 - livekit - INFO - livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.22
2025-06-16 14:16:18,917 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.22
2025-06-16 14:16:18,939 - __mp_main__ - WARNING - Tavus plugin not found (ImportError: cannot import name 'tavus' from 'livekit.plugins' (unknown location)). Tavus features will be disabled.
2025-06-16 14:16:18,948 - __mp_main__ - INFO - Loading environment from: /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/.env
2025-06-16 14:16:18,948 - __mp_main__ - INFO - LIVEKIT_URL: wss://shodhai-pojmjchi.livekit.cloud
2025-06-16 14:16:18,948 - __mp_main__ - INFO - DEEPGRAM_API_KEY: 77c3df31...0a31 (length: 40)
2025-06-16 14:16:18,948 - __mp_main__ - INFO - MY_CUSTOM_AGENT_URL: http://localhost:8080/process_interaction_streaming
2025-06-16 14:16:18,948 - __mp_main__ - WARNING - Tavus avatar not fully configured. Avatar functionality will be disabled.
2025-06-16 14:16:18,949 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:16:18,960 - livekit.agents - INFO - starting worker
2025-06-16 14:16:18,960 - livekit.agents - INFO - starting inference executor
2025-06-16 14:16:18,963 - livekit.agents - INFO - initializing process
2025-06-16 14:16:19,309 - livekit - INFO - livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.22
2025-06-16 14:16:19,309 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.22
2025-06-16 14:16:19,331 - __mp_main__ - WARNING - Tavus plugin not found (ImportError: cannot import name 'tavus' from 'livekit.plugins' (unknown location)). Tavus features will be disabled.
2025-06-16 14:16:19,339 - __mp_main__ - INFO - Loading environment from: /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/.env
2025-06-16 14:16:19,340 - __mp_main__ - INFO - LIVEKIT_URL: wss://shodhai-pojmjchi.livekit.cloud
2025-06-16 14:16:19,340 - __mp_main__ - INFO - DEEPGRAM_API_KEY: 77c3df31...0a31 (length: 40)
2025-06-16 14:16:19,340 - __mp_main__ - INFO - MY_CUSTOM_AGENT_URL: http://localhost:8080/process_interaction_streaming
2025-06-16 14:16:19,340 - __mp_main__ - WARNING - Tavus avatar not fully configured. Avatar functionality will be disabled.
2025-06-16 14:16:19,340 - livekit.agents - DEBUG - initializing inference runner
2025-06-16 14:16:19,340 - livekit.agents - DEBUG - initializing inference runner
None of PyTorch, TensorFlow >= 2.0, or Flax have been found. Models won't be available and only tokenizers, configuration and file/data utilities can be used.
2025-06-16 14:16:20,937 - livekit.agents - DEBUG - inference runner initialized
2025-06-16 14:16:20,938 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:16:20,937 - livekit.agents - DEBUG - inference runner initialized
2025-06-16 14:16:20,940 - livekit.agents - INFO - process initialized
2025-06-16 14:16:20,938 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:16:20,944 - livekit.agents - INFO - [1msee tracing information at http://localhost:59578/debug[0m
2025-06-16 14:16:21,194 - livekit.agents - INFO - registered worker
2025-06-16 14:16:21,266 - livekit.agents - INFO - received job request
2025-06-16 14:16:21,331 - livekit.agents - INFO - initializing process
2025-06-16 14:16:22,343 - livekit - INFO - livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.22
2025-06-16 14:16:22,344 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.22
2025-06-16 14:16:22,404 - __mp_main__ - WARNING - Tavus plugin not found (ImportError: cannot import name 'tavus' from 'livekit.plugins' (unknown location)). Tavus features will be disabled.
2025-06-16 14:16:22,416 - __mp_main__ - INFO - Loading environment from: /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/.env
2025-06-16 14:16:22,416 - __mp_main__ - INFO - LIVEKIT_URL: wss://shodhai-pojmjchi.livekit.cloud
2025-06-16 14:16:22,416 - __mp_main__ - INFO - DEEPGRAM_API_KEY: 77c3df31...0a31 (length: 40)
2025-06-16 14:16:22,416 - __mp_main__ - INFO - MY_CUSTOM_AGENT_URL: http://localhost:8080/process_interaction_streaming
2025-06-16 14:16:22,416 - __mp_main__ - WARNING - Tavus avatar not fully configured. Avatar functionality will be disabled.
2025-06-16 14:16:22,418 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:16:22,421 - livekit.agents - INFO - process initialized
2025-06-16 14:16:22,418 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:16:22,425 - __mp_main__ - INFO - Agent identity set to: ai-assistant
2025-06-16 14:16:22,425 - __mp_main__ - INFO - Agent identity set to: ai-assistant
2025-06-16 14:16:22,437 - livekit - INFO - livekit_api::signal_client::signal_stream:106:livekit_api::signal_client::signal_stream - connecting to wss://shodhai-pojmjchi.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=1.0.6&access_token=...
2025-06-16 14:16:22,725 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs
2025-06-16 14:16:22,725 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)
2025-06-16 14:16:22,725 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("shodhai-pojmjchi.livekit.cloud")
2025-06-16 14:16:22,725 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-06-16 14:16:22,794 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-06-16 14:16:22,794 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-06-16 14:16:22,794 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-06-16 14:16:22,794 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-06-16 14:16:22,968 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
2025-06-16 14:16:23,547 - __mp_main__ - INFO - Successfully connected to LiveKit room 'rox-session-c513e855' as 'ai-assistant'
2025-06-16 14:16:23,548 - __mp_main__ - INFO - Runtime Config -- Page: roxpage, TTS: aura-asteria-en, Temp: 0.7, Avatar: False
2025-06-16 14:16:23,547 - __mp_main__ - INFO - Successfully connected to LiveKit room 'rox-session-c513e855' as 'ai-assistant'
2025-06-16 14:16:23,548 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:16:23,548 - __mp_main__ - INFO - Runtime Config -- Page: roxpage, TTS: aura-asteria-en, Temp: 0.7, Avatar: False
2025-06-16 14:16:23,549 - __mp_main__ - INFO - RoxAgent.__init__: self (type: <class '__mp_main__.RoxAgent'>) is a JobContext. self._room initially: None
2025-06-16 14:16:23,548 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:16:23,549 - __mp_main__ - INFO - RoxAgent.__init__ called for page_path: rox-session-c513e855. Attributes: ['HandleFrontendButton', 'NotifyPageLoadV2', 'TestPing', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__firstlineno__', '__format__', '__ge__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__static_attributes__', '__str__', '__subclasshook__', '__weakref__', '_activity', '_allow_interruptions', '_chat_ctx', '_get_activity_or_raise', '_instructions', '_interaction_service_registered', '_job_ctx', '_latest_session_id', '_latest_student_context', '_llm', '_mcp_servers', '_room', '_send_request_to_langgraph', '_stt', '_tools', '_tts', '_turn_detection', '_vad', 'agent_session', 'allow_interruptions', 'chat_ctx', 'custom_llm_bridge', 'default', 'dispatch_frontend_rpc', 'instructions', 'latest_transcript_time', 'llm', 'llm_node', 'mcp_servers', 'on_enter', 'on_exit', 'on_llm_response_done', 'on_reply', 'on_transcript', 'on_user_turn_completed', 'page_path', 'participant_data', 'realtime_audio_output_node', 'realtime_llm_session', 'send_ui_action_to_frontend', 'session', 'speak_text', 'stt', 'stt_node', 'tools', 'transcription_node', 'tts', 'tts_node', 'turn_detection', 'update_chat_ctx', 'update_instructions', 'update_tools', 'vad']
2025-06-16 14:16:23,549 - __mp_main__ - INFO - RoxAgent.__init__: self (type: <class '__mp_main__.RoxAgent'>) is a JobContext. self._room initially: None
2025-06-16 14:16:23,549 - __mp_main__ - INFO - RoxAgent.__init__ called for page_path: rox-session-c513e855. Attributes: ['HandleFrontendButton', 'NotifyPageLoadV2', 'TestPing', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__firstlineno__', '__format__', '__ge__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__static_attributes__', '__str__', '__subclasshook__', '__weakref__', '_activity', '_allow_interruptions', '_chat_ctx', '_get_activity_or_raise', '_instructions', '_interaction_service_registered', '_job_ctx', '_latest_session_id', '_latest_student_context', '_llm', '_mcp_servers', '_room', '_send_request_to_langgraph', '_stt', '_tools', '_tts', '_turn_detection', '_vad', 'agent_session', 'allow_interruptions', 'chat_ctx', 'custom_llm_bridge', 'default', 'dispatch_frontend_rpc', 'instructions', 'latest_transcript_time', 'llm', 'llm_node', 'mcp_servers', 'on_enter', 'on_exit', 'on_llm_response_done', 'on_reply', 'on_transcript', 'on_user_turn_completed', 'page_path', 'participant_data', 'realtime_audio_output_node', 'realtime_llm_session', 'send_ui_action_to_frontend', 'session', 'speak_text', 'stt', 'stt_node', 'tools', 'transcription_node', 'tts', 'tts_node', 'turn_detection', 'update_chat_ctx', 'update_instructions', 'update_tools', 'vad']
2025-06-16 14:16:23,549 - __mp_main__ - INFO - Successfully registered RPC methods.
2025-06-16 14:16:23,550 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:16:23,550 - __mp_main__ - INFO - Creating main agent session with VPA pipeline...
2025-06-16 14:16:23,549 - __mp_main__ - INFO - Successfully registered RPC methods.
2025-06-16 14:16:23,550 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:16:23,550 - __mp_main__ - INFO - Creating main agent session with VPA pipeline...
2025-06-16 14:16:23,726 - __mp_main__ - INFO - Main agent session created successfully.
2025-06-16 14:16:23,726 - __mp_main__ - INFO - Starting main agent session...
2025-06-16 14:16:23,726 - __mp_main__ - INFO - Main agent session created successfully.
2025-06-16 14:16:23,726 - __mp_main__ - INFO - Starting main agent session...
2025-06-16 14:16:23,728 - __mp_main__ - INFO - Main agent session started successfully.
2025-06-16 14:16:23,728 - __mp_main__ - ERROR - Failed to update agent metadata to signal readiness: 'LocalParticipant' object has no attribute 'update_metadata'
2025-06-16 14:16:23,728 - __mp_main__ - INFO - Main agent session started successfully.
2025-06-16 14:16:23,728 - __mp_main__ - ERROR - Failed to update agent metadata to signal readiness: 'LocalParticipant' object has no attribute 'update_metadata'
2025-06-16 14:16:23,728 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-06-16 14:16:23,728 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-06-16 14:16:23,730 - __mp_main__ - INFO - PARTICIPANT_METADATA: Processing local and remote participants. Room SID: RM_WTwi6g7Fu47K, Name: rox-session-c513e855
2025-06-16 14:16:23,730 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Adding local_participant: Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_A5Yvjr386E8H
2025-06-16 14:16:23,730 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Found 1 remote_participants. Adding them.
2025-06-16 14:16:23,730 - __mp_main__ - INFO - PARTICIPANT_METADATA: Total participants to process: 2
2025-06-16 14:16:23,730 - __mp_main__ - INFO - PARTICIPANT_METADATA: Processing local and remote participants. Room SID: RM_WTwi6g7Fu47K, Name: rox-session-c513e855
2025-06-16 14:16:23,730 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_A5Yvjr386E8H
2025-06-16 14:16:23,730 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Adding local_participant: Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_A5Yvjr386E8H
2025-06-16 14:16:23,730 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Found 1 remote_participants. Adding them.
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: No metadata found for participant agent-AJ_a7dqE99Q7jdG (SID: PA_A5Yvjr386E8H)
2025-06-16 14:16:23,730 - __mp_main__ - INFO - PARTICIPANT_METADATA: Total participants to process: 2
2025-06-16 14:16:23,730 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_A5Yvjr386E8H
2025-06-16 14:16:23,730 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: student-1e0d4e85, SID: PA_saeymp9odW7a
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Raw p_obj.metadata for student-1e0d4e85: {"app_role":"student","userToken":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed","userId":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed"}
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: No metadata found for participant agent-AJ_a7dqE99Q7jdG (SID: PA_A5Yvjr386E8H)
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Parsed metadata_dict for student-1e0d4e85: {'app_role': 'student', 'userToken': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed', 'userId': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed'}
2025-06-16 14:16:23,730 - custom_llm - INFO - User token added to CustomLLMBridge: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed and user_id: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:16:23,730 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: student-1e0d4e85, SID: PA_saeymp9odW7a
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found userToken for student-1e0d4e85: b1a759fc-2417-4bce-b...
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Raw p_obj.metadata for student-1e0d4e85: {"app_role":"student","userToken":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed","userId":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed"}
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found user_id in metadata for student-1e0d4e85: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Parsed metadata_dict for student-1e0d4e85: {'app_role': 'student', 'userToken': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed', 'userId': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed'}
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Stored data for participant student-1e0d4e85 (SID: PA_saeymp9odW7a)
2025-06-16 14:16:23,730 - custom_llm - INFO - User token added to CustomLLMBridge: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed and user_id: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found userToken for student-1e0d4e85: b1a759fc-2417-4bce-b...
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/HandleFrontendButton
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found user_id in metadata for student-1e0d4e85: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:16:23,730 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Stored data for participant student-1e0d4e85 (SID: PA_saeymp9odW7a)
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/TestPing
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/HandleFrontendButton
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/TestPing
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/NotifyPageLoadV2
2025-06-16 14:16:23,730 - __mp_main__ - INFO - All RPC interaction services registered successfully.
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/NotifyPageLoadV2
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Rox agent fully operational in room 'rox-session-c513e855'.
2025-06-16 14:16:23,730 - __mp_main__ - INFO - All RPC interaction services registered successfully.
2025-06-16 14:16:23,730 - __mp_main__ - INFO - B2F Agent Logic Task for UI testing created.
2025-06-16 14:16:23,730 - __mp_main__ - INFO - Rox agent fully operational in room 'rox-session-c513e855'.
2025-06-16 14:16:23,730 - __mp_main__ - INFO - B2F Agent Logic Task for UI testing created.
2025-06-16 14:16:23,730 - __mp_main__ - INFO - B2F Agent Logic: Room 'rox-session-c513e855' is available.
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Attempting to find target client (Attempt 1/5)...
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Remote participants: ['student-1e0d4e85']
2025-06-16 14:16:23,730 - __mp_main__ - INFO - B2F Agent Logic: Room 'rox-session-c513e855' is available.
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Found fallback target client: 'student-1e0d4e85' (SID: PA_saeymp9odW7a).
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Attempting to find target client (Attempt 1/5)...
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Agent identity is 'agent-AJ_a7dqE99Q7jdG'
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Remote participants: ['student-1e0d4e85']
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Found fallback target client: 'student-1e0d4e85' (SID: PA_saeymp9odW7a).
2025-06-16 14:16:23,731 - __mp_main__ - INFO - B2F Agent Logic: Agent identity is 'agent-AJ_a7dqE99Q7jdG'
2025-06-16 14:17:52,856 - livekit.agents - INFO - shutting down worker
2025-06-16 14:17:52,886 - livekit.agents - DEBUG - shutting down job task
2025-06-16 14:17:52,886 - livekit.agents - DEBUG - shutting down job task
2025-06-16 14:17:52,897 - livekit.agents - INFO - process exiting
2025-06-16 14:17:52,974 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-06-16 14:17:53,013 - livekit - INFO - livekit::room:1253:livekit::room - disconnected from room with reason: ClientInitiated
2025-06-16 14:17:53,037 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-06-16 14:17:53,037 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-06-16 14:17:53,208 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='job_user_entrypoint' coro=<entrypoint() running at /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/main.py:1140> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_JobProc._run_job_task.<locals>.<lambda>() at /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/venv/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:271, _JobProc._run_job_task.<locals>.log_exception() at /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/venv/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:273]>
2025-06-16 14:17:53,210 - __mp_main__ - INFO - Agent job for room 'rox-session-c513e855' ending.
2025-06-16 14:17:53,211 - livekit.agents - WARNING - task closing without draining
2025-06-16 14:17:53,211 - __mp_main__ - ERROR - Error closing main session: no running event loop
2025-06-16 14:17:53,527 - livekit.agents - INFO - process exiting
2025-06-16 14:17:57,929 - livekit - INFO - livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.22
2025-06-16 14:17:57,931 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.22
2025-06-16 14:17:58,148 - __mp_main__ - WARNING - Tavus plugin not found (ImportError: cannot import name 'tavus' from 'livekit.plugins' (unknown location)). Tavus features will be disabled.
2025-06-16 14:17:58,186 - __mp_main__ - INFO - Loading environment from: /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/.env
2025-06-16 14:17:58,190 - __mp_main__ - INFO - LIVEKIT_URL: wss://shodhai-pojmjchi.livekit.cloud
2025-06-16 14:17:58,190 - __mp_main__ - INFO - DEEPGRAM_API_KEY: 77c3df31...0a31 (length: 40)
2025-06-16 14:17:58,190 - __mp_main__ - INFO - MY_CUSTOM_AGENT_URL: http://localhost:8080/process_interaction_streaming
2025-06-16 14:17:58,190 - __mp_main__ - WARNING - Tavus avatar not fully configured. Avatar functionality will be disabled.
2025-06-16 14:17:58,193 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:17:58,263 - livekit.agents - INFO - starting worker
2025-06-16 14:17:58,263 - livekit.agents - INFO - starting inference executor
2025-06-16 14:17:58,279 - livekit.agents - DEV - reloading job
2025-06-16 14:17:58,281 - livekit.agents - INFO - initializing process
2025-06-16 14:17:58,290 - livekit.agents - INFO - initializing process
2025-06-16 14:17:58,984 - livekit - INFO - livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.22
2025-06-16 14:17:58,985 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.22
2025-06-16 14:17:58,997 - livekit - INFO - livekit_ffi::server:139:livekit_ffi::server - initializing ffi server v0.12.22
2025-06-16 14:17:58,997 - livekit - INFO - livekit_ffi::cabi:36:livekit_ffi::cabi - initializing ffi server v0.12.22
2025-06-16 14:17:59,018 - __mp_main__ - WARNING - Tavus plugin not found (ImportError: cannot import name 'tavus' from 'livekit.plugins' (unknown location)). Tavus features will be disabled.
2025-06-16 14:17:59,033 - __mp_main__ - WARNING - Tavus plugin not found (ImportError: cannot import name 'tavus' from 'livekit.plugins' (unknown location)). Tavus features will be disabled.
2025-06-16 14:17:59,033 - __mp_main__ - INFO - Loading environment from: /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/.env
2025-06-16 14:17:59,035 - __mp_main__ - INFO - LIVEKIT_URL: wss://shodhai-pojmjchi.livekit.cloud
2025-06-16 14:17:59,035 - __mp_main__ - INFO - DEEPGRAM_API_KEY: 77c3df31...0a31 (length: 40)
2025-06-16 14:17:59,035 - __mp_main__ - INFO - MY_CUSTOM_AGENT_URL: http://localhost:8080/process_interaction_streaming
2025-06-16 14:17:59,035 - __mp_main__ - WARNING - Tavus avatar not fully configured. Avatar functionality will be disabled.
2025-06-16 14:17:59,036 - livekit.agents - DEBUG - initializing inference runner
2025-06-16 14:17:59,036 - livekit.agents - DEBUG - initializing inference runner
2025-06-16 14:17:59,047 - __mp_main__ - INFO - Loading environment from: /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/.env
2025-06-16 14:17:59,047 - __mp_main__ - INFO - LIVEKIT_URL: wss://shodhai-pojmjchi.livekit.cloud
2025-06-16 14:17:59,047 - __mp_main__ - INFO - DEEPGRAM_API_KEY: 77c3df31...0a31 (length: 40)
2025-06-16 14:17:59,047 - __mp_main__ - INFO - MY_CUSTOM_AGENT_URL: http://localhost:8080/process_interaction_streaming
2025-06-16 14:17:59,047 - __mp_main__ - WARNING - Tavus avatar not fully configured. Avatar functionality will be disabled.
2025-06-16 14:17:59,049 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:17:59,050 - livekit.agents - INFO - process initialized
2025-06-16 14:17:59,049 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:17:59,051 - __mp_main__ - INFO - Agent identity set to: ai-assistant
2025-06-16 14:17:59,051 - __mp_main__ - INFO - Agent identity set to: ai-assistant
2025-06-16 14:17:59,063 - livekit - INFO - livekit_api::signal_client::signal_stream:106:livekit_api::signal_client::signal_stream - connecting to wss://shodhai-pojmjchi.livekit.cloud/rtc?sdk=python&protocol=15&auto_subscribe=1&adaptive_stream=0&version=1.0.6&access_token=...
2025-06-16 14:17:59,570 - livekit - DEBUG - rustls::anchors:150:rustls::anchors - add_parsable_certificates processed 153 valid and 0 invalid certs
2025-06-16 14:17:59,570 - livekit - DEBUG - tokio_tungstenite::tls::encryption::rustls:103:tokio_tungstenite::tls::encryption::rustls - Added 153/153 native root certificates (ignored 0)
2025-06-16 14:17:59,570 - livekit - DEBUG - rustls::client::hs:73:rustls::client::hs - No cached session for DnsName("shodhai-pojmjchi.livekit.cloud")
2025-06-16 14:17:59,570 - livekit - DEBUG - rustls::client::hs:132:rustls::client::hs - Not resuming any session
2025-06-16 14:17:59,639 - livekit - DEBUG - rustls::client::hs:615:rustls::client::hs - Using ciphersuite TLS13_AES_128_GCM_SHA256
2025-06-16 14:17:59,639 - livekit - DEBUG - rustls::client::tls13:142:rustls::client::tls13 - Not resuming
2025-06-16 14:17:59,639 - livekit - DEBUG - rustls::client::tls13:381:rustls::client::tls13 - TLS1.3 encrypted extensions: []
2025-06-16 14:17:59,639 - livekit - DEBUG - rustls::client::hs:472:rustls::client::hs - ALPN protocol is None
2025-06-16 14:17:59,811 - livekit - DEBUG - tungstenite::handshake::client:95:tungstenite::handshake::client - Client handshake done.
None of PyTorch, TensorFlow >= 2.0, or Flax have been found. Models won't be available and only tokenizers, configuration and file/data utilities can be used.
2025-06-16 14:18:00,443 - __mp_main__ - INFO - Successfully connected to LiveKit room 'rox-session-c513e855' as 'ai-assistant'
2025-06-16 14:18:00,444 - __mp_main__ - INFO - Runtime Config -- Page: roxpage, TTS: aura-asteria-en, Temp: 0.7, Avatar: False
2025-06-16 14:18:00,446 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:18:00,446 - __mp_main__ - INFO - RoxAgent.__init__: self (type: <class '__mp_main__.RoxAgent'>) is a JobContext. self._room initially: None
2025-06-16 14:18:00,446 - __mp_main__ - INFO - RoxAgent.__init__ called for page_path: rox-session-c513e855. Attributes: ['HandleFrontendButton', 'NotifyPageLoadV2', 'TestPing', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__firstlineno__', '__format__', '__ge__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__static_attributes__', '__str__', '__subclasshook__', '__weakref__', '_activity', '_allow_interruptions', '_chat_ctx', '_get_activity_or_raise', '_instructions', '_interaction_service_registered', '_job_ctx', '_latest_session_id', '_latest_student_context', '_llm', '_mcp_servers', '_room', '_send_test_request_to_backend', '_stt', '_tools', '_tts', '_turn_detection', '_vad', 'agent_session', 'allow_interruptions', 'chat_ctx', 'custom_llm_bridge', 'default', 'dispatch_frontend_rpc', 'instructions', 'latest_transcript_time', 'llm', 'llm_node', 'mcp_servers', 'on_enter', 'on_exit', 'on_llm_response_done', 'on_reply', 'on_transcript', 'on_user_turn_completed', 'page_path', 'participant_data', 'realtime_audio_output_node', 'realtime_llm_session', 'send_ui_action_to_frontend', 'session', 'speak_text', 'stt', 'stt_node', 'tools', 'transcription_node', 'tts', 'tts_node', 'turn_detection', 'update_chat_ctx', 'update_instructions', 'update_tools', 'vad']
2025-06-16 14:18:00,446 - __mp_main__ - INFO - RPC methods are now part of RoxAgent. Skipping explicit service registration.
2025-06-16 14:18:00,446 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:18:00,446 - __mp_main__ - INFO - Creating main agent session with VPA pipeline...
2025-06-16 14:18:00,443 - __mp_main__ - INFO - Successfully connected to LiveKit room 'rox-session-c513e855' as 'ai-assistant'
2025-06-16 14:18:00,444 - __mp_main__ - INFO - Runtime Config -- Page: roxpage, TTS: aura-asteria-en, Temp: 0.7, Avatar: False
2025-06-16 14:18:00,446 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:18:00,446 - __mp_main__ - INFO - RoxAgent.__init__: self (type: <class '__mp_main__.RoxAgent'>) is a JobContext. self._room initially: None
2025-06-16 14:18:00,446 - __mp_main__ - INFO - RoxAgent.__init__ called for page_path: rox-session-c513e855. Attributes: ['HandleFrontendButton', 'NotifyPageLoadV2', 'TestPing', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__firstlineno__', '__format__', '__ge__', '__getattribute__', '__getstate__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__static_attributes__', '__str__', '__subclasshook__', '__weakref__', '_activity', '_allow_interruptions', '_chat_ctx', '_get_activity_or_raise', '_instructions', '_interaction_service_registered', '_job_ctx', '_latest_session_id', '_latest_student_context', '_llm', '_mcp_servers', '_room', '_send_test_request_to_backend', '_stt', '_tools', '_tts', '_turn_detection', '_vad', 'agent_session', 'allow_interruptions', 'chat_ctx', 'custom_llm_bridge', 'default', 'dispatch_frontend_rpc', 'instructions', 'latest_transcript_time', 'llm', 'llm_node', 'mcp_servers', 'on_enter', 'on_exit', 'on_llm_response_done', 'on_reply', 'on_transcript', 'on_user_turn_completed', 'page_path', 'participant_data', 'realtime_audio_output_node', 'realtime_llm_session', 'send_ui_action_to_frontend', 'session', 'speak_text', 'stt', 'stt_node', 'tools', 'transcription_node', 'tts', 'tts_node', 'turn_detection', 'update_chat_ctx', 'update_instructions', 'update_tools', 'vad']
2025-06-16 14:18:00,446 - __mp_main__ - INFO - RPC methods are now part of RoxAgent. Skipping explicit service registration.
2025-06-16 14:18:00,446 - custom_llm - INFO - CustomLLMBridge initialized with RoxAgent reference. Streaming URL: http://localhost:8080/process_interaction_streaming for page: None
2025-06-16 14:18:00,446 - __mp_main__ - INFO - Creating main agent session with VPA pipeline...
2025-06-16 14:18:00,708 - __mp_main__ - INFO - Main agent session created successfully.
2025-06-16 14:18:00,708 - __mp_main__ - INFO - Starting main agent session...
2025-06-16 14:18:00,708 - __mp_main__ - INFO - Main agent session created successfully.
2025-06-16 14:18:00,708 - __mp_main__ - INFO - Starting main agent session...
2025-06-16 14:18:00,712 - __mp_main__ - INFO - Main agent session started successfully.
2025-06-16 14:18:00,712 - __mp_main__ - INFO - Main agent session started successfully.
2025-06-16 14:18:00,713 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-06-16 14:18:00,713 - livekit.agents - DEBUG - http_session(): creating a new httpclient ctx
2025-06-16 14:18:00,714 - __mp_main__ - INFO - PARTICIPANT_METADATA: Processing local and remote participants. Room SID: RM_WTwi6g7Fu47K, Name: rox-session-c513e855
2025-06-16 14:18:00,714 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Adding local_participant: Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_BMX6pBTicq4K
2025-06-16 14:18:00,714 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Found 1 remote_participants. Adding them.
2025-06-16 14:18:00,714 - __mp_main__ - INFO - PARTICIPANT_METADATA: Total participants to process: 2
2025-06-16 14:18:00,714 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_BMX6pBTicq4K
2025-06-16 14:18:00,714 - __mp_main__ - INFO -       PARTICIPANT_METADATA: No metadata found for participant agent-AJ_a7dqE99Q7jdG (SID: PA_BMX6pBTicq4K)
2025-06-16 14:18:00,714 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: student-1e0d4e85, SID: PA_saeymp9odW7a
2025-06-16 14:18:00,714 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Raw p_obj.metadata for student-1e0d4e85: {"app_role":"student","userToken":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed","userId":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed"}
2025-06-16 14:18:00,714 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Parsed metadata_dict for student-1e0d4e85: {'app_role': 'student', 'userToken': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed', 'userId': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed'}
2025-06-16 14:18:00,715 - custom_llm - INFO - User token added to CustomLLMBridge: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed and user_id: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:18:00,715 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found userToken for student-1e0d4e85: b1a759fc-2417-4bce-b...
2025-06-16 14:18:00,715 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found user_id in metadata for student-1e0d4e85: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:18:00,715 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Stored data for participant student-1e0d4e85 (SID: PA_saeymp9odW7a)
2025-06-16 14:18:00,714 - __mp_main__ - INFO - PARTICIPANT_METADATA: Processing local and remote participants. Room SID: RM_WTwi6g7Fu47K, Name: rox-session-c513e855
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/HandleFrontendButton
2025-06-16 14:18:00,714 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Adding local_participant: Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_BMX6pBTicq4K
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/TestPing
2025-06-16 14:18:00,714 - __mp_main__ - INFO -   PARTICIPANT_METADATA: Found 1 remote_participants. Adding them.
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/NotifyPageLoadV2
2025-06-16 14:18:00,715 - __mp_main__ - INFO - All RPC interaction services registered successfully.
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Rox agent fully operational in room 'rox-session-c513e855'.
2025-06-16 14:18:00,715 - __mp_main__ - INFO - B2F Agent Logic Task for UI testing created.
2025-06-16 14:18:00,714 - __mp_main__ - INFO - PARTICIPANT_METADATA: Total participants to process: 2
2025-06-16 14:18:00,714 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: agent-AJ_a7dqE99Q7jdG, SID: PA_BMX6pBTicq4K
2025-06-16 14:18:00,716 - __mp_main__ - INFO - B2F Agent Logic: Room 'rox-session-c513e855' is available.
2025-06-16 14:18:00,716 - __mp_main__ - INFO - B2F Agent Logic: Attempting to find target client (Attempt 1/5)...
2025-06-16 14:18:00,717 - __mp_main__ - INFO - B2F Agent Logic: Remote participants: ['student-1e0d4e85']
2025-06-16 14:18:00,714 - __mp_main__ - INFO -       PARTICIPANT_METADATA: No metadata found for participant agent-AJ_a7dqE99Q7jdG (SID: PA_BMX6pBTicq4K)
2025-06-16 14:18:00,717 - __mp_main__ - INFO - B2F Agent Logic: Found fallback target client: 'student-1e0d4e85' (SID: PA_saeymp9odW7a).
2025-06-16 14:18:00,714 - __mp_main__ - INFO -     PARTICIPANT_METADATA: Processing participant Identity: student-1e0d4e85, SID: PA_saeymp9odW7a
2025-06-16 14:18:00,714 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Raw p_obj.metadata for student-1e0d4e85: {"app_role":"student","userToken":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed","userId":"b1a759fc-2417-4bce-bf9f-fae3bf6f4eed"}
2025-06-16 14:18:00,714 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Parsed metadata_dict for student-1e0d4e85: {'app_role': 'student', 'userToken': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed', 'userId': 'b1a759fc-2417-4bce-bf9f-fae3bf6f4eed'}
2025-06-16 14:18:00,717 - __mp_main__ - INFO - B2F Agent Logic: Agent identity is 'agent-AJ_a7dqE99Q7jdG'
2025-06-16 14:18:00,715 - custom_llm - INFO - User token added to CustomLLMBridge: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed and user_id: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:18:00,715 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found userToken for student-1e0d4e85: b1a759fc-2417-4bce-b...
2025-06-16 14:18:00,715 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Found user_id in metadata for student-1e0d4e85: b1a759fc-2417-4bce-bf9f-fae3bf6f4eed
2025-06-16 14:18:00,715 - __mp_main__ - INFO -       PARTICIPANT_METADATA: Stored data for participant student-1e0d4e85 (SID: PA_saeymp9odW7a)
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/HandleFrontendButton
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/TestPing
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Successfully registered RPC method: rox.interaction.AgentInteraction/NotifyPageLoadV2
2025-06-16 14:18:00,715 - __mp_main__ - INFO - All RPC interaction services registered successfully.
2025-06-16 14:18:00,715 - __mp_main__ - INFO - Rox agent fully operational in room 'rox-session-c513e855'.
2025-06-16 14:18:00,715 - __mp_main__ - INFO - B2F Agent Logic Task for UI testing created.
2025-06-16 14:18:00,716 - __mp_main__ - INFO - B2F Agent Logic: Room 'rox-session-c513e855' is available.
2025-06-16 14:18:00,716 - __mp_main__ - INFO - B2F Agent Logic: Attempting to find target client (Attempt 1/5)...
2025-06-16 14:18:00,717 - __mp_main__ - INFO - B2F Agent Logic: Remote participants: ['student-1e0d4e85']
2025-06-16 14:18:00,717 - __mp_main__ - INFO - B2F Agent Logic: Found fallback target client: 'student-1e0d4e85' (SID: PA_saeymp9odW7a).
2025-06-16 14:18:00,717 - __mp_main__ - INFO - B2F Agent Logic: Agent identity is 'agent-AJ_a7dqE99Q7jdG'
2025-06-16 14:18:03,067 - livekit.agents - DEBUG - inference runner initialized
2025-06-16 14:18:03,094 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:18:03,067 - livekit.agents - DEBUG - inference runner initialized
2025-06-16 14:18:03,099 - livekit.agents - INFO - process initialized
2025-06-16 14:18:03,094 - asyncio - DEBUG - Using selector: KqueueSelector
2025-06-16 14:18:03,124 - livekit.agents - INFO - [1msee tracing information at http://localhost:60184/debug[0m
2025-06-16 14:18:03,456 - livekit.agents - INFO - registered worker
2025-06-16 14:18:31,367 - livekit.agents - INFO - shutting down worker
2025-06-16 14:18:31,390 - livekit.agents - DEBUG - shutting down job task
2025-06-16 14:18:31,402 - livekit.agents - INFO - process exiting
2025-06-16 14:18:31,390 - livekit.agents - DEBUG - shutting down job task
2025-06-16 14:18:31,473 - livekit - DEBUG - tungstenite::protocol:666:tungstenite::protocol - Received close frame: Some(CloseFrame { code: Normal, reason: "" })
2025-06-16 14:18:31,509 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-06-16 14:18:31,509 - livekit.agents - DEBUG - http_session(): closing the httpclient ctx
2025-06-16 14:18:31,701 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='job_user_entrypoint' coro=<entrypoint() running at /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/rox/main.py:1120> wait_for=<Future pending cb=[Task.task_wakeup()]> cb=[_JobProc._run_job_task.<locals>.<lambda>() at /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/venv/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:271, _JobProc._run_job_task.<locals>.log_exception() at /Users/drsudhanshu/Desktop/bidirectionalflow/livekit-service/venv/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py:273]>
2025-06-16 14:18:31,701 - __mp_main__ - INFO - Agent job for room 'rox-session-c513e855' ending.
2025-06-16 14:18:31,704 - livekit.agents - WARNING - task closing without draining
2025-06-16 14:18:31,704 - __mp_main__ - ERROR - Error closing main session: no running event loop
2025-06-16 14:18:31,994 - livekit.agents - INFO - process exiting
